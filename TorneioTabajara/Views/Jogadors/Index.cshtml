@model IEnumerable<TorneioTabajara.Models.Jogador>
@using TorneioTabajara.Models

@{
    ViewBag.Title = "Jogadores";
}

<h2>Jogadores</h2>

<p>
    @Html.ActionLink("Criar Novo", "Create", null, new { @class = "btn btn-success" })
</p>

<!-- Filtros de busca -->
@using (Html.BeginForm("Index", "Jogadors", FormMethod.Get))
{
    <div class="form-inline mb-3">
        <label>Nome:</label>
        @Html.TextBox("nome", Request["nome"], new { @class = "form-control", @placeholder = "Buscar por nome", @style = "margin-right: 10px;" })

        <label>Posição:</label>
        @Html.DropDownList("posicao", new SelectList(ViewBag.Posicao, Request["posicao"]), "Todas", new { @class = "form-control", @style = "margin-right: 10px;" })

        <label>Pé Preferido:</label>
        @Html.DropDownList("pePreferido", new SelectList(ViewBag.PePreferido, Request["pePreferido"]), "Todos", new { @class = "form-control", @style = "margin-right: 10px;" })

        <input type="submit" value="Buscar" class="btn btn-primary" />
    </div>
}

<table class="table table-striped table-bordered">
    <tr>
        <th>@Html.DisplayNameFor(model => model.First().Time.Nome)</th>
        <th>@Html.DisplayNameFor(model => model.First().Nome)</th>
        <th>@Html.DisplayNameFor(model => model.First().Nacionalidade)</th>
        <th>@Html.DisplayNameFor(model => model.First().DataNascimento)</th>
        <th>@Html.DisplayNameFor(model => model.First().Camisa)</th>
        <th>@Html.DisplayNameFor(model => model.First().Altura)</th>
        <th>@Html.DisplayNameFor(model => model.First().Peso)</th>
        <th>@Html.DisplayNameFor(model => model.First().Posicao)</th>
        <th>@Html.DisplayNameFor(model => model.First().PePreferido)</th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>@Html.DisplayFor(modelItem => item.Time.Nome)</td>
            <td>@Html.DisplayFor(modelItem => item.Nome)</td>
            <td>@Html.DisplayFor(modelItem => item.Nacionalidade)</td>
            <td>@item.DataNascimento.ToString("dd/MM/yyyy")</td>
            <td>@item.Camisa</td>
            <td>@item.Altura</td>
            <td>@item.Peso</td>
            <td>@item.Posicao</td>
            <td>@item.PePreferido</td>
            <td>
                @Html.ActionLink("Editar", "Edit", new { id = item.Id }) |
                @Html.ActionLink("Detalhes", "Details", new { id = item.Id }) |
                @Html.ActionLink("Excluir", "Delete", new { id = item.Id })
            </td>
        </tr>
    }
</table>
